/* ===== Palette (unchanged header trimmed for brevity) ===== */
.root {
  -fx-font-family: "Inter", "Segoe UI", "Arial", system-ui, sans-serif;
  -np-bg: #121418; -np-surface: #1a1f26; -np-elev: #222834;
  -np-ink: #dfe6ee; -np-ink-dim: #9fb0c3;
  -np-brand: #7c9cff; -np-brand-weak: rgba(124,156,255,0.12);
  -np-green: #22c55e; -np-cyan: #06b6d4; -np-blue: #3b82f6; -np-indigo: #6366f1;
  -np-purple: #a855f7; -np-pink: #ec4899; -np-rose: #f43f5e; -np-orange: #f97316;
  -np-amber: #f59e0b; -np-lime: #84cc16; -np-teal: #14b8a6; -np-sky: #0ea5e9; -np-slate: #94a3b8;
  -fx-base: -np-bg; -fx-background: -np-bg; -fx-text-fill: -np-ink;
}

/* ===== Shell (unchanged from earlier with subtle tweaks) ===== */
.appbar { -fx-background-color: -np-surface; -fx-background-radius: 0 0 14 14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.35), 18, 0.3, 0, 4); }
.app-title { -fx-font-size: 18px; -fx-font-weight: 800; -fx-text-fill: -np-ink; }
.canvas-container { -fx-background-color: -np-elev; -fx-background-radius: 12; -fx-padding: 12; }
.tool-rail { -fx-background-color: -np-surface; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 18, 0.25, 0, 4); }
.prop-pane { -fx-background-color: -np-surface; -fx-background-radius: 12; -fx-padding: 14; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.25), 18, 0.25, 0, 4); }
.section { -fx-font-size: 11px; -fx-text-fill: -np-ink-dim; -fx-font-weight: 700; -fx-padding: 6 0 0 0; -fx-opacity: 0.95; }
.statusbar { -fx-background-color: transparent; -fx-text-fill: -np-ink-dim; }

/* ===== Cards (new) ===== */
.card {
  -fx-background-color: derive(-np-surface, 3%);
  -fx-background-radius: 10;
  -fx-border-color: rgba(255,255,255,0.06);
  -fx-border-radius: 10;
}

/* ===== Icons & Buttons (same as earlier) ===== */
.icon { -fx-fill: -np-ink; -fx-stroke: -np-ink; -fx-stroke-width: 0; }
.icon-toggle, .top-icon-button { -fx-background-color: transparent; -fx-background-radius: 12; -fx-border-radius: 12; -fx-padding: 6; }
.icon-toggle:hover, .top-icon-button:hover { -fx-background-color: rgba(255,255,255,0.06); }
.icon-toggle:selected { -fx-background-color: -np-brand-weak; -fx-effect: innershadow(gaussian, rgba(124,156,255,0.45), 8, 0.2, 0, 0); }
.top-icon-button.primary { -fx-background-color: rgba(124,156,255,0.16); }
.top-icon-button.primary:hover { -fx-background-color: rgba(124,156,255,0.26); }

/* Stroked icon (line) */
.icon-stroke { -fx-fill: transparent; -fx-stroke: -np-ink; -fx-stroke-width: 2; -fx-stroke-line-cap: round; }

/* Per-tool accent tints */
.icon-toggle.accent-green:selected  .icon, .icon-toggle.accent-green:selected  .icon-stroke  { -fx-fill: -np-green;  -fx-stroke: -np-green; }
.icon-toggle.accent-cyan:selected   .icon, .icon-toggle.accent-cyan:selected   .icon-stroke  { -fx-fill: -np-cyan;   -fx-stroke: -np-cyan; }
.icon-toggle.accent-blue:selected   .icon, .icon-toggle.accent-blue:selected   .icon-stroke  { -fx-fill: -np-blue;   -fx-stroke: -np-blue; }
.icon-toggle.accent-indigo:selected .icon, .icon-toggle.accent-indigo:selected .icon-stroke  { -fx-fill: -np-indigo; -fx-stroke: -np-indigo; }
.icon-toggle.accent-purple:selected .icon, .icon-toggle.accent-purple:selected .icon-stroke  { -fx-fill: -np-purple; -fx-stroke: -np-purple; }
.icon-toggle.accent-pink:selected   .icon, .icon-toggle.accent-pink:selected   .icon-stroke  { -fx-fill: -np-pink;   -fx-stroke: -np-pink; }
.icon-toggle.accent-rose:selected   .icon, .icon-toggle.accent-rose:selected   .icon-stroke  { -fx-fill: -np-rose;   -fx-stroke: -np-rose; }
.icon-toggle.accent-orange:selected .icon, .icon-toggle.accent-orange:selected .icon-stroke  { -fx-fill: -np-orange; -fx-stroke: -np-orange; }
.icon-toggle.accent-amber:selected  .icon, .icon-toggle.accent-amber:selected  .icon-stroke  { -fx-fill: -np-amber;  -fx-stroke: -np-amber; }
.icon-toggle.accent-lime:selected   .icon, .icon-toggle.accent-lime:selected   .icon-stroke  { -fx-fill: -np-lime;   -fx-stroke: -np-lime; }
.icon-toggle.accent-teal:selected   .icon, .icon-toggle.accent-teal:selected   .icon-stroke  { -fx-fill: -np-teal;   -fx-stroke: -np-teal; }
.icon-toggle.accent-sky:selected    .icon, .icon-toggle.accent-sky:selected    .icon-stroke  { -fx-fill: -np-sky;    -fx-stroke: -np-sky; }
.icon-toggle.accent-slate:selected  .icon, .icon-toggle.accent-slate:selected  .icon-stroke  { -fx-fill: -np-slate;  -fx-stroke: -np-slate; }

/* ===== Swatch grid (new) ===== */
.palette-section { }
.swatch-grid { }
.swatch-wrap {
  -fx-background-radius: 50%;
  -fx-cursor: hand;
}
.swatch-wrap:hover {
  -fx-effect: dropshadow(gaussian, rgba(255,255,255,0.20), 10, 0.2, 0, 0);
}
.swatch {
  /* fill set in code via setFill(color) */
}
